name: React.js CI

on: 
 push:
    branches:
        -main
 pull_request:
    branches:
      -main

jobs:
  build:
    runs-on: ubuntu-latest
  
  steps:
   - name: checkout code
     uses: actions/checkout@v2

   - name: Setup Node.js
     uses: actions/setup-node@v3
     with: 
        node-version: "18"

   - name: Install Dependencies
     run: npm Install

   - name: Build Project
     if: success()
     run: |
        if [ -f package.json ] && grep -q "\"build\"" package.json; then
           npm run build
        else 
          echo "build skipped no build found"
        fi